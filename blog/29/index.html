<!DOCTYPE html>
<html lang="zh-cn">
    <head>
        
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="description" content="含哺而熙，鼓腹而游">
<title>
Java 常用基础类库 - 孙丁一的博客
</title>



        <meta property="og:title" content="Java 常用基础类库 - 孙丁一的博客" />
<meta property="og:type" content="website" />
<meta property="og:description" content="含哺而熙，鼓腹而游"/>
<meta property="og:url" content="https://sundingyi.com/blog/29/"/>
<meta property="og:site_name" content="孙丁一的博客"/>




<meta property="og:image" content="https://sundingyi.com/home/about.png"/>




        
<link rel="shortcut icon" href="https://tvax1.sinaimg.cn/large/a8eb46baly1glglh7iax1j205k05kq57.jpg">


        





<link rel="stylesheet" href="/css/main.min.989536fd4c7b48ef95884777dcac347703d98d8248821bc7bff304e0a26bdac1.css" integrity="sha256-mJU2/Ux7SO&#43;ViEd33Kw0dwPZjYJIghvHv/ME4KJr2sE=" crossorigin="anonymous" media="screen">





        
        
        
        
    </head>
    <body>
        <section id="top" class="section">
            
            <div class="container hero  fade-in one ">
                

<h1 class="bold-title is-1">文章</h1>


            </div>
            
            <div class="section  fade-in two ">
                
<div class="container">
    <hr>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        
        <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false" >
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
        <div class="navbar-menu " id="navMenu">
            
            
            
            
            <a class="navbar-item" href="/#%E6%96%87%E7%AB%A0">
                
                文章
                
            </a>
            
            
            
            <a class="navbar-item" href="/#%E5%9B%BE">
                
                图
                
            </a>
            
            
            
            <a class="navbar-item" href="/#about">
                
                关于
                
            </a>
            
            
            
            <a class="navbar-item" href="/#contact">
                
                与我联系
                
            </a>
            
            
            
            <a class="navbar-item" href="https://doc.sundingyi.com/">
                
                文档
                
            </a>
            
            
            
            <a class="navbar-item" href="https://drive.sundingyi.com/">
                
                网盘
                
            </a>
            
            
            
            <a class="navbar-item" href="https://www.douban.com/people/104121744/">
                
                豆瓣主页
                
            </a>
            
            
            
            <a class="navbar-item" href="https://sundingyi.com/index.xml">
                
                RSS
                
            </a>
            
            
            
        </div>
    </nav>
    <hr>
</div>



                
<div class="container">
    <h2 class="title is-1 top-pad strong-post-title">
        <a href="https://sundingyi.com/blog/29/">Java 常用基础类库</a>
    </h2>
    <div class="post-data">
        2020.12.10 ・ 
        共 2329 字，您可能需要 5 分钟阅读
        
    </div>
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
      
     <p>
         Tags: 
          
           <a href="/tags/java">
             Java</a>,
         
           <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0">
             学习笔记</a>
         
        </p>
      
    
      
    
</div>

<div class="container markdown top-pad">
    
<h2 id="stringbuffer-类" class="anchor-link"><a href="#stringbuffer-%e7%b1%bb">StringBuffer 类</a></h2>
<ul>
<li>每一个字符串的常量都属于一个 String 类的匿名对象，不可更改。</li>
<li>String 有两个常量池：静态常量池、运行时常量池。</li>
<li>String 类对象实例化建议使用直接赋值的方式完成，这样可以将对象保存在对象池中，以便下次使用。</li>
</ul>
<p><code>String</code>类虽好，但也存在弊端，内容不允许修改，虽然大多数时间不会对字符串内容进行频繁地修改，但是依然可能会存在有这样地情况，为了解决此问题专门提供了<code>StringBuffer</code>类，进行内容的修改。</p>
<p><code>StringBuffer</code>并不像<code>String</code>类那样拥有两种对象实例化方式，<code>StringBuffer</code>必须像普通类那样，进行对象实例化，然后进行调用方法进行处理，而这个时候可以考虑使用<code>StringBuffer</code>的如下方法。</p>

<h3 id="追加数据" class="anchor-link"><a href="#%e8%bf%bd%e5%8a%a0%e6%95%b0%e6%8d%ae">追加数据</a></h3>
<ul>
<li>构造方法：
<ul>
<li><code>public StringBuffer()</code></li>
<li><code>pubic StringBuffer(String str)</code></li>
</ul>
</li>
<li>数据追加：<code>public StringBuffer append( 各种数据类型 )</code>相当于字符串的 +</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Test</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    StringBuffer sb <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> StringBuffer<span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;Hello&#34;</span><span style="color:#ff79c6">);</span>
    change<span style="color:#ff79c6">(</span>sb<span style="color:#ff79c6">);</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span>sb<span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">change</span><span style="color:#ff79c6">(</span>StringBuffer temp<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    temp<span style="color:#ff79c6">.</span><span style="color:#50fa7b">append</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;World&#34;</span><span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>
</code></pre></div><p>大部分情况下很少出现字符串内容的改变，这种改变并不是针对静态常量池的改变。</p>

<h3 id="插入数据" class="anchor-link"><a href="#%e6%8f%92%e5%85%a5%e6%95%b0%e6%8d%ae">插入数据</a></h3>
<p><code>public StringBuffer insert(int offset, 数据类型 b)</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Test</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    StringBuffer sb <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> StringBuffer<span style="color:#ff79c6">();</span>
    sb<span style="color:#ff79c6">.</span><span style="color:#50fa7b">append</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;hello&#34;</span><span style="color:#ff79c6">).</span><span style="color:#50fa7b">insert</span><span style="color:#ff79c6">(</span>0<span style="color:#ff79c6">,</span> <span style="color:#f1fa8c">&#34;world&#34;</span><span style="color:#ff79c6">);</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span>sb<span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>
</code></pre></div>
<h3 id="删除指定范围的数据" class="anchor-link"><a href="#%e5%88%a0%e9%99%a4%e6%8c%87%e5%ae%9a%e8%8c%83%e5%9b%b4%e7%9a%84%e6%95%b0%e6%8d%ae">删除指定范围的数据</a></h3>
<p><code>public StringBuffer delete(int start, int end)</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Test</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    StringBuffer sb <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> StringBuffer<span style="color:#ff79c6">();</span>
    sb<span style="color:#ff79c6">.</span><span style="color:#50fa7b">append</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;hello&#34;</span><span style="color:#ff79c6">).</span><span style="color:#50fa7b">delete</span><span style="color:#ff79c6">(</span>0<span style="color:#ff79c6">,</span> 2<span style="color:#ff79c6">);</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span>sb<span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>
</code></pre></div>
<h3 id="字符串反转" class="anchor-link"><a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%8f%8d%e8%bd%ac">字符串反转</a></h3>
<p><code>public StringBuffer reverse()</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Test</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    StringBuffer sb <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> StringBuffer<span style="color:#ff79c6">();</span>
    sb<span style="color:#ff79c6">.</span><span style="color:#50fa7b">append</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;hello&#34;</span><span style="color:#ff79c6">);</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span>sb<span style="color:#ff79c6">.</span><span style="color:#50fa7b">reverse</span><span style="color:#ff79c6">());</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>
</code></pre></div>
<h3 id="stringbuider-类" class="anchor-link"><a href="#stringbuider-%e7%b1%bb">StringBuider 类</a></h3>
<p>与<code>StringBuffer</code>类相似的还有一个<code>StringBuider</code>类，他们的方法功能相同，最大的区别就是<code>StringBuffer</code>中的方法是线程安全的，有<code>synchronized</code>关键字，而<code>StringBuider</code>没有。</p>

<h2 id="charsequence-接口" class="anchor-link"><a href="#charsequence-%e6%8e%a5%e5%8f%a3">CharSequence 接口</a></h2>
<p><code>CharSequence</code>是一个描述字符串结构的接口，有三个常用的子类实现了这个接口。分别是<code>String</code>,<code>StringBuffer</code>,<code>StringBuilder</code>。</p>
<p>在<code>StringBuffer</code>和<code>StringBuilder</code>中可以将<code>CharSequence</code>作为参数传入。只要有字符串，就可以为<code>CharSequence</code>接口实例化。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Test</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    CharSequence str <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;hello world&#34;</span><span style="color:#ff79c6">;</span> <span style="color:#6272a4">// 子类实例向父接口向上转型
</span><span style="color:#6272a4"></span>  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>
</code></pre></div><p><code>CharSequence</code>中定义有如下操作方法。</p>
<ul>
<li><code>char charAt(int index);</code>查看在 index 位置的字符。</li>
<li><code>int length();</code>获取字符串的长度。</li>
<li><code>CharSequence subSequence(int start, int end);</code>截取部分字符串。</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Test</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    CharSequence str <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;hello world&#34;</span><span style="color:#ff79c6">;</span> <span style="color:#6272a4">// 子类实例向父接口向上转型
</span><span style="color:#6272a4"></span>    CharSequence sub <span style="color:#ff79c6">=</span> str<span style="color:#ff79c6">.</span><span style="color:#50fa7b">subSequence</span><span style="color:#ff79c6">(</span>0<span style="color:#ff79c6">,</span> 5<span style="color:#ff79c6">);</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span>sub<span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>
</code></pre></div><p><strong><code>CharSequence</code>描述的就是一个字符串。</strong></p>

<h2 id="autocloseable-接口" class="anchor-link"><a href="#autocloseable-%e6%8e%a5%e5%8f%a3">AutoCloseable 接口</a></h2>
<p><code>AutoCloseable</code>主要是用于资源开发的处理上，以实现资源的自动关闭。在进行文件、网络、数据库的开发过程之中，由于服务器的资源有限，在使用之后，应该关闭资源。</p>
<p>模拟消息发送处理流程：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Test</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    NetMessage nm <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> NetMessage<span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;haha&#34;</span><span style="color:#ff79c6">);</span>
    <span style="color:#ff79c6">if</span> <span style="color:#ff79c6">(</span>nm<span style="color:#ff79c6">.</span><span style="color:#50fa7b">open</span><span style="color:#ff79c6">())</span> <span style="color:#ff79c6">{</span>
      nm<span style="color:#ff79c6">.</span><span style="color:#50fa7b">send</span><span style="color:#ff79c6">();</span>
      nm<span style="color:#ff79c6">.</span><span style="color:#50fa7b">close</span><span style="color:#ff79c6">();</span>
    <span style="color:#ff79c6">}</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>

<span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">NetMessage</span> <span style="color:#8be9fd;font-style:italic">implements</span> IMessage <span style="color:#ff79c6">{</span> <span style="color:#6272a4">// 实现消息的处理机制
</span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">private</span> String msg<span style="color:#ff79c6">;</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#50fa7b">NetMessage</span><span style="color:#ff79c6">(</span>String msg<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    <span style="color:#ff79c6">this</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">msg</span> <span style="color:#ff79c6">=</span> msg<span style="color:#ff79c6">;</span>
  <span style="color:#ff79c6">}</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">send</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;发送消息&#34;</span> <span style="color:#ff79c6">+</span> msg<span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">boolean</span> <span style="color:#50fa7b">open</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span> <span style="color:#6272a4">// 获取资源连接
</span><span style="color:#6272a4"></span>    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;获取资源连接&#34;</span><span style="color:#ff79c6">);</span>
    <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">true</span><span style="color:#ff79c6">;</span>
  <span style="color:#ff79c6">}</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">close</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;关闭消息通道&#34;</span><span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>

<span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">IMessage</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">send</span><span style="color:#ff79c6">();</span>
<span style="color:#ff79c6">}</span>
</code></pre></div><p>既然所有的资源完成处理之后要进行关闭操作，那么为什么不进行自动关闭呢？于是为了实现这一需求，出现了<code>AutoCloseable</code>接口。该接口只提供有一个方法<code>void close() throws Exception</code></p>
<p>要想实现自动关闭处理，除了要实现<code>AutoClosed</code>之外，还需要结合异常处理语句才能正常调用。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Test</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#8be9fd;font-style:italic">throws</span> Exception <span style="color:#ff79c6">{</span>
    <span style="color:#ff79c6">try</span> <span style="color:#ff79c6">(</span>NetMessage nm <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> NetMessage<span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;haha&#34;</span><span style="color:#ff79c6">))</span> <span style="color:#ff79c6">{</span>
      nm<span style="color:#ff79c6">.</span><span style="color:#50fa7b">open</span><span style="color:#ff79c6">();</span>
      nm<span style="color:#ff79c6">.</span><span style="color:#50fa7b">send</span><span style="color:#ff79c6">();</span>
    <span style="color:#ff79c6">}</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>

<span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">NetMessage</span> <span style="color:#8be9fd;font-style:italic">implements</span> IMessage <span style="color:#ff79c6">{</span> <span style="color:#6272a4">// 实现消息的处理机制
</span><span style="color:#6272a4"></span>  <span style="color:#8be9fd;font-style:italic">private</span> String msg<span style="color:#ff79c6">;</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#50fa7b">NetMessage</span><span style="color:#ff79c6">(</span>String msg<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    <span style="color:#ff79c6">this</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">msg</span> <span style="color:#ff79c6">=</span> msg<span style="color:#ff79c6">;</span>
  <span style="color:#ff79c6">}</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">send</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;发送消息&#34;</span> <span style="color:#ff79c6">+</span> msg<span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">boolean</span> <span style="color:#50fa7b">open</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span> <span style="color:#6272a4">// 获取资源连接
</span><span style="color:#6272a4"></span>    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;获取资源连接&#34;</span><span style="color:#ff79c6">);</span>
    <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">true</span><span style="color:#ff79c6">;</span>
  <span style="color:#ff79c6">}</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">close</span><span style="color:#ff79c6">()</span> <span style="color:#8be9fd;font-style:italic">throws</span> Exception <span style="color:#ff79c6">{</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;关闭消息通道&#34;</span><span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>

<span style="color:#8be9fd;font-style:italic">interface</span> <span style="color:#50fa7b">IMessage</span> <span style="color:#8be9fd;font-style:italic">extends</span> AutoCloseable <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">send</span><span style="color:#ff79c6">();</span>
<span style="color:#ff79c6">}</span>
</code></pre></div>
<h2 id="runtime-类" class="anchor-link"><a href="#runtime-%e7%b1%bb">Runtime 类</a></h2>
<p><code>Runtime</code>描述的是运行时的状态，在整个 JVM 中，<code>Runtime</code>类是唯一一个与 JVM 运行状态有关的类，并且都会默认提供一个该类的实例化对象。</p>
<p>由于在每一个 JVM 进程里面只允许提供有一个<code>Runtime</code>类的对象，所以这个类的构造方法是默认私有的，则证明该类使用的是单类设计模式，所以就会提供一个静态方法获取本类实例。</p>
<p>如果想获取实例化对象，那么就可以依靠类中的<code>public static Runtime getRuntime()</code>完成。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Test</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    Runtime run <span style="color:#ff79c6">=</span> Runtime<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getRuntime</span><span style="color:#ff79c6">();</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span>run<span style="color:#ff79c6">.</span><span style="color:#50fa7b">availableProcessors</span><span style="color:#ff79c6">());</span> <span style="color:#6272a4">// 获取当前可用线程数
</span><span style="color:#6272a4"></span>    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span>run<span style="color:#ff79c6">.</span><span style="color:#50fa7b">maxMemory</span><span style="color:#ff79c6">());</span> <span style="color:#6272a4">// 获取最大可用内存空间
</span><span style="color:#6272a4"></span>    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span>run<span style="color:#ff79c6">.</span><span style="color:#50fa7b">totalMemory</span><span style="color:#ff79c6">());</span> <span style="color:#6272a4">// 获取可用内存空间
</span><span style="color:#6272a4"></span>    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span>run<span style="color:#ff79c6">.</span><span style="color:#50fa7b">freeMemory</span><span style="color:#ff79c6">());</span> <span style="color:#6272a4">// 获取空闲内存空间
</span><span style="color:#6272a4"></span>    run<span style="color:#ff79c6">.</span><span style="color:#50fa7b">gc</span><span style="color:#ff79c6">();</span> <span style="color:#6272a4">// 手工进行垃圾回收
</span><span style="color:#6272a4"></span>  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>
</code></pre></div>
<h2 id="system-类" class="anchor-link"><a href="#system-%e7%b1%bb">System 类</a></h2>
<ul>
<li>数组复制：<code>public static native void arraycopy(Object src, int srcPos,Object dest, int destPos, int length);</code></li>
<li>获取当前时间：<code>public static native long currentTimeMillis();</code></li>
<li>垃圾回收：</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">gc</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
        Runtime<span style="color:#ff79c6">.</span><span style="color:#50fa7b">getRuntime</span><span style="color:#ff79c6">().</span><span style="color:#50fa7b">gc</span><span style="color:#ff79c6">();</span>
    <span style="color:#ff79c6">}</span>
</code></pre></div>
<h2 id="cleaner-类" class="anchor-link"><a href="#cleaner-%e7%b1%bb">Cleaner 类</a></h2>
<p><code>Cleaner</code>类主要是进行<code>finalize()</code>的替代。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#ff79c6">import</span> java.lang.ref.Cleaner<span style="color:#ff79c6">;</span>

<span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Test</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    <span style="color:#ff79c6">try</span> <span style="color:#ff79c6">(</span>MemberCleaning mc <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> MemberCleaning<span style="color:#ff79c6">())</span> <span style="color:#ff79c6">{</span>
      <span style="color:#ff79c6">;</span>
    <span style="color:#ff79c6">}</span> <span style="color:#ff79c6">catch</span> <span style="color:#ff79c6">(</span>Exception ignored<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    <span style="color:#ff79c6">}</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>

<span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Member</span> <span style="color:#8be9fd;font-style:italic">implements</span> Runnable <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#50fa7b">Member</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;构造&#34;</span><span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">run</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;回收&#34;</span><span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>

<span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">MemberCleaning</span> <span style="color:#8be9fd;font-style:italic">implements</span> AutoCloseable <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd;font-style:italic">final</span> Cleaner cleaner <span style="color:#ff79c6">=</span> Cleaner<span style="color:#ff79c6">.</span><span style="color:#50fa7b">create</span><span style="color:#ff79c6">();</span>
  <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">final</span> Cleaner<span style="color:#ff79c6">.</span><span style="color:#50fa7b">Cleanable</span> cleanable<span style="color:#ff79c6">;</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#50fa7b">MemberCleaning</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
    Member member <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Member<span style="color:#ff79c6">();</span>
    <span style="color:#ff79c6">this</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">cleanable</span> <span style="color:#ff79c6">=</span> cleaner<span style="color:#ff79c6">.</span><span style="color:#50fa7b">register</span><span style="color:#ff79c6">(</span><span style="color:#ff79c6">this</span><span style="color:#ff79c6">,</span> member<span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">close</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
    <span style="color:#ff79c6">this</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">cleanable</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">clean</span><span style="color:#ff79c6">();</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>
</code></pre></div><p>在当前进行回收的时候，更注重于对于多线程的使用，防止有可能造成的延迟处理。所以很多对象回收前的单独处理都是单独通过一个线程完成的。</p>

<h2 id="对象克隆" class="anchor-link"><a href="#%e5%af%b9%e8%b1%a1%e5%85%8b%e9%9a%86">对象克隆</a></h2>
<p>所谓的对象克隆指的就是对象复制，而且属于全新的复制，需要使用<code>Object</code>中的<code>clone()</code>。所有的类都有<code>clone()</code>，但不是所有的类都希望被克隆。如果想实现对象克隆，那么对象所在的类需要实现接口<code>Cloneable</code>。此接口没有一个方法，因为它描述的是一种能力。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Test</span> <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd">void</span> <span style="color:#50fa7b">main</span><span style="color:#ff79c6">(</span>String<span style="color:#ff79c6">[]</span> args<span style="color:#ff79c6">)</span> <span style="color:#8be9fd;font-style:italic">throws</span> CloneNotSupportedException <span style="color:#ff79c6">{</span>
    Member member <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">new</span> Member<span style="color:#ff79c6">(</span><span style="color:#f1fa8c">&#34;haha&#34;</span><span style="color:#ff79c6">,</span> 12<span style="color:#ff79c6">);</span>
    Member memberB <span style="color:#ff79c6">=</span> <span style="color:#ff79c6">(</span>Member<span style="color:#ff79c6">)</span> member<span style="color:#ff79c6">.</span><span style="color:#50fa7b">clone</span><span style="color:#ff79c6">();</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span>member<span style="color:#ff79c6">);</span>
    System<span style="color:#ff79c6">.</span><span style="color:#50fa7b">out</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">println</span><span style="color:#ff79c6">(</span>memberB<span style="color:#ff79c6">);</span>
  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>

<span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">Member</span> <span style="color:#8be9fd;font-style:italic">implements</span> Cloneable <span style="color:#ff79c6">{</span>
  <span style="color:#8be9fd;font-style:italic">private</span> String name<span style="color:#ff79c6">;</span>
  <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd">int</span> age<span style="color:#ff79c6">;</span>

  <span style="color:#8be9fd;font-style:italic">public</span> <span style="color:#50fa7b">Member</span><span style="color:#ff79c6">(</span>String name<span style="color:#ff79c6">,</span> <span style="color:#8be9fd">int</span> age<span style="color:#ff79c6">)</span> <span style="color:#ff79c6">{</span>
    <span style="color:#ff79c6">this</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">name</span> <span style="color:#ff79c6">=</span> name<span style="color:#ff79c6">;</span>
    <span style="color:#ff79c6">this</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">age</span> <span style="color:#ff79c6">=</span> age<span style="color:#ff79c6">;</span>
  <span style="color:#ff79c6">}</span>

  <span style="color:#8be9fd;font-style:italic">public</span> String <span style="color:#50fa7b">toString</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
    <span style="color:#ff79c6">return</span> <span style="color:#8be9fd;font-style:italic">super</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">toString</span><span style="color:#ff79c6">()</span> <span style="color:#ff79c6">+</span> <span style="color:#f1fa8c">&#34; name:&#34;</span> <span style="color:#ff79c6">+</span> name <span style="color:#ff79c6">+</span> <span style="color:#f1fa8c">&#34; age:&#34;</span> <span style="color:#ff79c6">+</span> age<span style="color:#ff79c6">;</span>
  <span style="color:#ff79c6">}</span>

  @Override
  <span style="color:#8be9fd;font-style:italic">protected</span> Object <span style="color:#50fa7b">clone</span><span style="color:#ff79c6">()</span> <span style="color:#8be9fd;font-style:italic">throws</span> CloneNotSupportedException <span style="color:#ff79c6">{</span>
    <span style="color:#ff79c6">return</span> <span style="color:#8be9fd;font-style:italic">super</span><span style="color:#ff79c6">.</span><span style="color:#50fa7b">clone</span><span style="color:#ff79c6">();</span> <span style="color:#6272a4">// 调用父类的克隆方法
</span><span style="color:#6272a4"></span>  <span style="color:#ff79c6">}</span>
<span style="color:#ff79c6">}</span>
</code></pre></div>
</div>
<script src="https://utteranc.es/client.js"
    repo="42Sun/blogcomment"
    issue-term="pathname"
    theme="github-light"
    crossorigin="anonymous"
    async>
</script>





                
                <div class="container">
    <hr>
</div>
<div class="container has-text-centered top-pad">
    <a href="#top">
        <i class="fa fa-arrow-up"></i>
    </a>
</div>

<div class="container">
    <hr>
</div>

                <div class="section" id="footer">
    <div class="container has-text-centered">
    
        ©2019-2020 <a href="https://sundingyi.com">孙丁一</a>. All rights reserved.
    
    </div>
</div>

                
            </div>
        </section>
        
        


<script src="https://sundingyi.com/js/bundle.2ee571453a8980175e10bda96bda797cc9c4e2e745e488df68d50cef5deb57ff.js" integrity="sha256-LuVxRTqJgBdeEL2pa9p5fMnE4udF5IjfaNUM713rV/8="></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-150971789-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>






        
        
        
        
    </body>
</html>
